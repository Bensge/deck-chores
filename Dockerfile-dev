FROM python:3.6-alpine

ENTRYPOINT ["/sbin/tini", "--"]
CMD ["deck-chores"]
LABEL org.label-schema.name="deck-chores"
ENV DEBUG=true

RUN apk add --no-cache --virtual .build-deps ca-certificates \
 && apk add --no-cache tini \
 && pip install cerberus docker-py fasteners APScheduler \
 && apk del .build-deps


COPY . /src

RUN cd src && python setup.py install \
 && cd / && rm -R /src
